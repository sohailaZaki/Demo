"use strict";var n=require("react"),e=require("@nivo/core"),o=require("d3-scale"),i=require("d3-delaunay"),r=require("react/jsx-runtime");function t(){return t=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},t.apply(this,arguments)}var l={xDomain:[0,1],yDomain:[0,1],layers:["links","cells","points","bounds"],enableLinks:!1,linkLineWidth:1,linkLineColor:"#bbbbbb",enableCells:!0,cellLineWidth:2,cellLineColor:"#000000",enablePoints:!0,pointSize:4,pointColor:"#666666",role:"img"},u=function(n){return"function"==typeof n?n:function(e){return e[n]}},a=function(n){var e=n.points,o=n.x,i=void 0===o?"x":o,r=n.y,t=void 0===r?"y":r,l=u(i),a=u(t);return e.map((function(n){return[l(n),a(n)]}))},s=function(n){var e=n.points,o=n.width,r=n.height,t=n.debug,l=i.Delaunay.from(e),u=t?l.voronoi([0,0,o,r]):void 0;return{delaunay:l,voronoi:u}},d=function(e){var o=e.points,i=e.x,r=e.y,t=e.width,l=e.height,u=e.debug,d=n.useMemo((function(){return a({points:o,x:i,y:r})}),[o,i,r]);return n.useMemo((function(){return s({points:d,width:t,height:l,debug:u})}),[d,t,l,u])},c=function(e){var r=e.data,t=e.width,l=e.height,u=e.xDomain,a=e.yDomain,s=n.useMemo((function(){return o.scaleLinear().domain(u).range([0,t])}),[u,t]),d=n.useMemo((function(){return o.scaleLinear().domain(a).range([0,l])}),[a,l]),c=n.useMemo((function(){return r.map((function(n){return{x:s(n.x),y:d(n.y),data:n}}))}),[r,s,d]);return n.useMemo((function(){var n=i.Delaunay.from(c.map((function(n){return[n.x,n.y]}))),e=n.voronoi([0,0,t,l]);return{points:c,delaunay:n,voronoi:e}}),[c,t,l])},h=function(e){var o=e.points,i=e.delaunay,r=e.voronoi;return n.useMemo((function(){return{points:o,delaunay:i,voronoi:r}}),[o,i,r])},v=["theme"],f=function(o){var i=o.data,t=o.width,u=o.height,a=o.margin,s=o.layers,d=void 0===s?l.layers:s,v=o.xDomain,f=void 0===v?l.xDomain:v,p=o.yDomain,b=void 0===p?l.yDomain:p,x=o.enableLinks,m=void 0===x?l.enableLinks:x,y=o.linkLineWidth,g=void 0===y?l.linkLineWidth:y,k=o.linkLineColor,C=void 0===k?l.linkLineColor:k,M=o.enableCells,j=void 0===M?l.enableCells:M,L=o.cellLineWidth,W=void 0===L?l.cellLineWidth:L,w=o.cellLineColor,D=void 0===w?l.cellLineColor:w,S=o.enablePoints,T=void 0===S?l.enableCells:S,P=o.pointSize,V=void 0===P?l.pointSize:P,O=o.pointColor,q=void 0===O?l.pointColor:O,E=o.role,R=void 0===E?l.role:E,z=e.useDimensions(t,u,a),A=z.outerWidth,F=z.outerHeight,H=z.margin,B=z.innerWidth,I=z.innerHeight,G=c({data:i,width:B,height:I,xDomain:f,yDomain:b}),J=G.points,K=G.delaunay,N=G.voronoi,Q={links:null,cells:null,points:null,bounds:null};m&&d.includes("links")&&(Q.links=r.jsx("path",{stroke:C,strokeWidth:g,fill:"none",d:K.render()},"links")),j&&d.includes("cells")&&(Q.cells=r.jsx("path",{d:N.render(),fill:"none",stroke:D,strokeWidth:W},"cells")),T&&d.includes("points")&&(Q.points=r.jsx("path",{stroke:"none",fill:q,d:K.renderPoints(void 0,V/2)},"points")),d.includes("bounds")&&(Q.bounds=r.jsx("path",{fill:"none",stroke:D,strokeWidth:W,d:N.renderBounds()},"bounds"));var U=h({points:J,delaunay:K,voronoi:N});return r.jsx(e.SvgWrapper,{width:A,height:F,margin:H,role:R,children:d.map((function(e,o){return void 0!==Q[e]?Q[e]:"function"==typeof e?r.jsx(n.Fragment,{children:n.createElement(e,U)},o):null}))})},p=function(n){var o=n.theme,i=function(n,e){if(null==n)return{};var o,i,r={},t=Object.keys(n);for(i=0;i<t.length;i++)o=t[i],e.indexOf(o)>=0||(r[o]=n[o]);return r}(n,v);return r.jsx(e.Container,{isInteractive:!1,animate:!1,theme:o,children:r.jsx(f,t({},i))})};exports.Mesh=function(o){var i=o.nodes,t=o.width,l=o.height,u=o.x,a=o.y,s=o.onMouseEnter,c=o.onMouseMove,h=o.onMouseLeave,v=o.onClick,f=o.onTouchStart,p=o.onTouchMove,b=o.onTouchEnd,x=o.enableTouchCrosshair,m=void 0!==x&&x,y=o.debug,g=n.useRef(null),k=n.useState(null),C=k[0],M=k[1],j=d({points:i,x:u,y:a,width:t,height:l,debug:y}),L=j.delaunay,W=j.voronoi,w=n.useMemo((function(){if(y&&W)return W.render()}),[y,W]),D=n.useCallback((function(n){if(!g.current)return[null,null];var o=e.getRelativeCursor(g.current,n),r=o[0],t=o[1],l=L.find(r,t);return[l,void 0!==l?i[l]:null]}),[L,i]),S=n.useCallback((function(n){if(!g.current)return[null,null];var o=e.getRelativeCursor(g.current,n),r=o[0],t=o[1],l=L.find(r,t);return[l,void 0!==l?i[l]:null]}),[L,i]),T=n.useCallback((function(n){var e=D(n),o=e[0],i=e[1];M(o),i&&(null==s||s(i,n))}),[D,M,s]),P=n.useCallback((function(n){var e=D(n),o=e[0],i=e[1];M(o),i&&(null==c||c(i,n))}),[D,M,c]),V=n.useCallback((function(n){if(M(null),h){var e=void 0;null!==C&&(e=i[C]),e&&h(e,n)}}),[M,C,h,i]),O=n.useCallback((function(n){var e=D(n),o=e[0],i=e[1];M(o),i&&(null==v||v(i,n))}),[D,M,v]),q=n.useCallback((function(n){var e=S(n),o=e[0],i=e[1];m&&M(o),i&&(null==f||f(i,n))}),[S,m,f]),E=n.useCallback((function(n){var e=S(n),o=e[0],i=e[1];m&&M(o),i&&(null==p||p(i,n))}),[S,m,p]),R=n.useCallback((function(n){if(m&&M(null),b){var e=void 0;null!==C&&(e=i[C]),e&&b(e,n)}}),[m,b,C,i]);return r.jsxs("g",{ref:g,children:[y&&W&&r.jsxs(r.Fragment,{children:[r.jsx("path",{d:w,stroke:"red",strokeWidth:1,opacity:.75}),null!==C&&r.jsx("path",{fill:"pink",opacity:.35,d:W.renderCell(C)})]}),r.jsx("rect",{"data-ref":"mesh-interceptor",width:t,height:l,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:T,onMouseMove:P,onMouseLeave:V,onTouchStart:q,onTouchMove:E,onTouchEnd:R,onClick:O})]})},exports.ResponsiveVoronoi=function(n){return r.jsx(e.ResponsiveWrapper,{children:function(e){var o=e.width,i=e.height;return r.jsx(p,t({width:o,height:i},n))}})},exports.Voronoi=p,exports.computeMesh=s,exports.computeMeshPoints=a,exports.defaultVoronoiProps=l,exports.renderVoronoiCellToCanvas=function(n,e,o){n.save(),n.globalAlpha=.35,n.beginPath(),e.renderCell(o,n),n.fillStyle="red",n.fill(),n.restore()},exports.renderVoronoiToCanvas=function(n,e){n.save(),n.globalAlpha=.75,n.beginPath(),e.render(n),n.strokeStyle="red",n.lineWidth=1,n.stroke(),n.restore()},exports.useVoronoi=c,exports.useVoronoiLayerContext=h,exports.useVoronoiMesh=d;
//# sourceMappingURL=nivo-voronoi.cjs.js.map
