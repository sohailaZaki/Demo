"use strict";var e=require("react"),o=require("@nivo/core"),i=require("@nivo/colors"),r=require("@nivo/axes"),n=require("@nivo/legends"),t=require("@nivo/tooltip"),a=require("d3-shape"),s=require("@nivo/scales"),l=require("lodash/uniqueId"),u=require("prop-types"),d=require("react/jsx-runtime"),c=require("@react-spring/web"),p=require("@nivo/voronoi");function h(){return h=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},h.apply(this,arguments)}var f=function(e){var o=e.point;return d.jsx(t.BasicTooltip,{id:d.jsxs("span",{children:["x: ",d.jsx("strong",{children:o.data.xFormatted}),", y:"," ",d.jsx("strong",{children:o.data.yFormatted})]}),enableChip:!0,color:o.serieColor})};f.propTypes={point:u.object.isRequired};var v=e.memo(f),m=function(e){var i=e.slice,r=e.axis,n=o.useTheme(),a="x"===r?"y":"x";return d.jsx(t.TableTooltip,{rows:i.points.map((function(e){return[d.jsx(t.Chip,{color:e.serieColor,style:n.tooltip.chip},"chip"),e.serieId,d.jsx("span",{style:n.tooltip.tableCellValue,children:e.data[a+"Formatted"]},"value")]}))})};m.propTypes={slice:u.object.isRequired,axis:u.oneOf(["x","y"]).isRequired};var b=e.memo(m),y={data:u.arrayOf(u.shape({id:u.oneOfType([u.string,u.number]).isRequired,data:u.arrayOf(u.shape({x:u.oneOfType([u.number,u.string,u.instanceOf(Date)]),y:u.oneOfType([u.number,u.string,u.instanceOf(Date)])})).isRequired})).isRequired,xScale:u.object.isRequired,xFormat:u.oneOfType([u.func,u.string]),yScale:u.object.isRequired,yFormat:u.oneOfType([u.func,u.string]),layers:u.arrayOf(u.oneOfType([u.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),u.func])).isRequired,curve:o.lineCurvePropType.isRequired,axisTop:r.axisPropType,axisRight:r.axisPropType,axisBottom:r.axisPropType,axisLeft:r.axisPropType,enableGridX:u.bool.isRequired,enableGridY:u.bool.isRequired,gridXValues:u.oneOfType([u.number,u.arrayOf(u.oneOfType([u.number,u.string,u.instanceOf(Date)]))]),gridYValues:u.oneOfType([u.number,u.arrayOf(u.oneOfType([u.number,u.string,u.instanceOf(Date)]))]),enablePoints:u.bool.isRequired,pointSymbol:u.func,pointSize:u.number.isRequired,pointColor:u.any.isRequired,pointBorderWidth:u.number.isRequired,pointBorderColor:u.any.isRequired,enablePointLabel:u.bool.isRequired,pointLabel:u.oneOfType([u.string,u.func]).isRequired,markers:u.arrayOf(u.shape({axis:u.oneOf(["x","y"]).isRequired,value:u.oneOfType([u.number,u.string,u.instanceOf(Date)]).isRequired,style:u.object})),colors:i.ordinalColorsPropType.isRequired,enableArea:u.bool.isRequired,areaOpacity:u.number.isRequired,areaBlendMode:o.blendModePropType.isRequired,areaBaselineValue:u.oneOfType([u.number,u.string,u.instanceOf(Date)]).isRequired,lineWidth:u.number.isRequired,legends:u.arrayOf(u.shape(n.LegendPropShape)).isRequired,isInteractive:u.bool.isRequired,debugMesh:u.bool.isRequired,tooltip:u.oneOfType([u.func,u.object]).isRequired,enableSlices:u.oneOf(["x","y",!1]).isRequired,debugSlices:u.bool.isRequired,sliceTooltip:u.oneOfType([u.func,u.object]).isRequired,enableCrosshair:u.bool.isRequired,crosshairType:u.string.isRequired},x=h({},y,{enablePointLabel:u.bool.isRequired,role:u.string.isRequired,useMesh:u.bool.isRequired,enableTouchCrosshair:u.bool},o.motionPropTypes,o.defsPropTypes),g=h({pixelRatio:u.number.isRequired},y),T={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:v,enableSlices:!1,debugSlices:!1,sliceTooltip:b,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},C=h({},T,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),R=h({},T,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),q=function(i){var r=i.curve;return e.useMemo((function(){return a.line().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(o.curveFromProp(r))}),[r])},M=function(i){var r=i.curve,n=i.yScale,t=i.areaBaselineValue;return e.useMemo((function(){return a.area().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(o.curveFromProp(r)).y0(n(t))}),[r,n,t])},S=function(o){var i=o.componentId,r=o.enableSlices,n=o.points,t=o.width,a=o.height;return e.useMemo((function(){if(!1===r)return[];if("x"===r){var e=new Map;return n.forEach((function(o){null!==o.data.x&&null!==o.data.y&&(e.has(o.x)?e.get(o.x).push(o):e.set(o.x,[o]))})),Array.from(e.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,r){var n,s,l=e[0],u=e[1],d=r[o-1],c=r[o+1];return n=d?l-(l-d[0])/2:l,s=c?l-n+(c[0]-l)/2:t-n,{id:"slice:"+i+":"+l,x0:n,x:l,y0:0,y:0,width:s,height:a,points:u.reverse()}}))}if("y"===r){var o=new Map;return n.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(o.has(e.y)?o.get(e.y).push(e):o.set(e.y,[e]))})),Array.from(o.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,i){var r,n,s=e[0],l=e[1],u=i[o-1],d=i[o+1];return r=u?s-(s-u[0])/2:s,n=d?s-r+(d[0]-s)/2:a-r,{id:s,x0:0,x:0,y0:r,y:s,width:t,height:n,points:l.reverse()}}))}}),[i,r,a,n,t])},O="line",k=function(r){var n=r.data,t=r.xScale,a=void 0===t?C.xScale:t,u=r.xFormat,d=r.yScale,c=void 0===d?C.yScale:d,p=r.yFormat,f=r.width,v=r.height,m=r.colors,b=void 0===m?C.colors:m,y=r.curve,x=void 0===y?C.curve:y,g=r.areaBaselineValue,T=void 0===g?C.areaBaselineValue:g,R=r.pointColor,k=void 0===R?C.pointColor:R,j=r.pointBorderColor,w=void 0===j?C.pointBorderColor:j,L=r.enableSlices,E=void 0===L?C.enableSlicesTooltip:L,P=e.useState(l(O))[0],B=o.useValueFormatter(u),W=o.useValueFormatter(p),G=i.useOrdinalColorScale(b,"id"),F=o.useTheme(),V=i.useInheritedColor(k,F),D=i.useInheritedColor(w,F),I=e.useState([]),Y=I[0],A=I[1],X=e.useMemo((function(){return s.computeXYScalesForSeries(n.filter((function(e){return-1===Y.indexOf(e.id)})),a,c,f,v)}),[n,Y,a,c,f,v]),z=X.xScale,H=X.yScale,_=X.series,N=e.useMemo((function(){var e=n.map((function(e){return{id:e.id,label:e.id,color:G(e)}})),o=e.map((function(e){return h({},_.find((function(o){return o.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return h({},e,{hidden:!o.find((function(o){return o.id===e.id}))})})).reverse(),series:o}}),[n,_,G]),U=N.legendData,Q=N.series,J=e.useCallback((function(e){A((function(o){return o.indexOf(e)>-1?o.filter((function(o){return o!==e})):[].concat(o,[e])}))}),[]),K=function(o){var i=o.series,r=o.getPointColor,n=o.getPointBorderColor,t=o.formatX,a=o.formatY;return e.useMemo((function(){return i.reduce((function(e,o){return[].concat(e,o.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(i,s){var l={id:o.id+"."+s,index:e.length+s,serieId:o.id,serieColor:o.color,x:i.position.x,y:i.position.y};return l.color=r(o),l.borderColor=n(l),l.data=h({},i.data,{xFormatted:t(i.data.x),yFormatted:a(i.data.y)}),l})))}),[])}),[i,r,n,t,a])}({series:Q,getPointColor:V,getPointBorderColor:D,formatX:B,formatY:W}),Z=S({componentId:P,enableSlices:E,points:K,width:f,height:v});return{legendData:U,toggleSerie:J,lineGenerator:q({curve:x}),areaGenerator:M({curve:x,yScale:H,areaBaselineValue:T}),getColor:G,series:Q,xScale:z,yScale:H,slices:Z,points:K}},j=function(e){var i=e.areaBlendMode,r=e.areaOpacity,n=e.color,t=e.fill,a=e.path,s=o.useMotionConfig(),l=s.animate,u=s.config,p=o.useAnimatedPath(a),h=c.useSpring({color:n,config:u,immediate:!l});return d.jsx(c.animated.path,{d:p,fill:t||h.color,fillOpacity:r,strokeWidth:0,style:{mixBlendMode:i}})};j.propTypes={areaBlendMode:o.blendModePropType.isRequired,areaOpacity:u.number.isRequired,color:u.string,fill:u.string,path:u.string.isRequired};var w=function(e){var o=e.areaGenerator,i=e.areaOpacity,r=e.areaBlendMode,n=e.lines.slice(0).reverse();return d.jsx("g",{children:n.map((function(e){return d.jsx(j,h({path:o(e.data.map((function(e){return e.position})))},h({areaOpacity:i,areaBlendMode:r},e)),e.id)}))})};w.propTypes={areaGenerator:u.func.isRequired,areaOpacity:u.number.isRequired,areaBlendMode:o.blendModePropType.isRequired,lines:u.arrayOf(u.object).isRequired};var L=e.memo(w),E=function(i){var r=i.lineGenerator,n=i.points,t=i.color,a=i.thickness,s=e.useMemo((function(){return r(n)}),[r,n]),l=o.useAnimatedPath(s);return d.jsx(c.animated.path,{d:l,fill:"none",strokeWidth:a,stroke:t})};E.propTypes={points:u.arrayOf(u.shape({x:u.oneOfType([u.string,u.number]),y:u.oneOfType([u.string,u.number])})),lineGenerator:u.func.isRequired,color:u.string.isRequired,thickness:u.number.isRequired};var P=e.memo(E),B=function(e){var o=e.lines,i=e.lineGenerator,r=e.lineWidth;return o.slice(0).reverse().map((function(e){var o=e.id,n=e.data,t=e.color;return d.jsx(P,{id:o,points:n.map((function(e){return e.position})),lineGenerator:i,color:t,thickness:r},o)}))};B.propTypes={lines:u.arrayOf(u.shape({id:u.oneOfType([u.string,u.number]).isRequired,color:u.string.isRequired,data:u.arrayOf(u.shape({data:u.shape({x:u.oneOfType([u.string,u.number,u.instanceOf(Date)]),y:u.oneOfType([u.string,u.number,u.instanceOf(Date)])}).isRequired,position:u.shape({x:u.number,y:u.number}).isRequired})).isRequired})).isRequired,lineWidth:u.number.isRequired,lineGenerator:u.func.isRequired};var W=e.memo(B),G=function(o){var i=o.slice,r=o.slices,n=o.axis,a=o.debug,s=o.tooltip,l=o.isCurrent,u=o.setCurrent,c=o.onMouseEnter,p=o.onMouseMove,h=o.onMouseLeave,f=o.onClick,v=o.onTouchStart,m=o.onTouchMove,b=o.onTouchEnd,y=t.useTooltip(),x=y.showTooltipFromEvent,g=y.hideTooltip,T=e.useCallback((function(o){x(e.createElement(s,{slice:i,axis:n}),o,"right"),u(i),c&&c(i,o)}),[x,s,i,n,u,c]),C=e.useCallback((function(o){x(e.createElement(s,{slice:i,axis:n}),o,"right"),p&&p(i,o)}),[x,s,i,n,p]),R=e.useCallback((function(e){g(),u(null),h&&h(i,e)}),[g,u,h,i]),q=e.useCallback((function(e){f&&f(i,e)}),[i,f]),M=e.useCallback((function(o){x(e.createElement(s,{slice:i,axis:n}),o,"right"),u(i),v&&v(i,o)}),[n,v,u,x,i,s]),S=e.useCallback((function(o){var t=o.touches[0],a=document.elementFromPoint(t.clientX,t.clientY),l=null==a?void 0:a.getAttribute("data-ref");if(l){var d=r.find((function(e){return e.id===l}));d&&(x(e.createElement(s,{slice:d,axis:n}),o,"right"),u(d))}m&&m(i,o)}),[n,m,u,x,i,r,s]),O=e.useCallback((function(e){g(),u(null),b&&b(i,e)}),[g,u,b,i]);return d.jsx("rect",{x:i.x0,y:i.y0,width:i.width,height:i.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:l&&a?.35:0,onMouseEnter:T,onMouseMove:C,onMouseLeave:R,onClick:q,onTouchStart:M,onTouchMove:S,onTouchEnd:O,"data-ref":i.id})};G.propTypes={slice:u.object.isRequired,slices:u.arrayOf(u.object).isRequired,axis:u.oneOf(["x","y"]).isRequired,debug:u.bool.isRequired,height:u.number.isRequired,tooltip:u.oneOfType([u.func,u.object]),isCurrent:u.bool.isRequired,setCurrent:u.func.isRequired,onMouseEnter:u.func,onMouseMove:u.func,onMouseLeave:u.func,onClick:u.func};var F=e.memo(G),V=function(e){var o=e.slices,i=e.axis,r=e.debug,n=e.height,t=e.tooltip,a=e.current,s=e.setCurrent,l=e.onMouseEnter,u=e.onMouseMove,c=e.onMouseLeave,p=e.onClick,h=e.onTouchStart,f=e.onTouchMove,v=e.onTouchEnd;return o.map((function(e){return d.jsx(F,{slice:e,slices:o,axis:i,debug:r,height:n,tooltip:t,setCurrent:s,isCurrent:null!==a&&a.id===e.id,onMouseEnter:l,onMouseMove:u,onMouseLeave:c,onClick:p,onTouchStart:h,onTouchMove:f,onTouchEnd:v},e.id)}))};V.propTypes={slices:u.arrayOf(u.shape({id:u.oneOfType([u.number,u.string,u.instanceOf(Date)]).isRequired,x:u.number.isRequired,y:u.number.isRequired,points:u.arrayOf(u.object).isRequired})).isRequired,axis:u.oneOf(["x","y"]).isRequired,debug:u.bool.isRequired,height:u.number.isRequired,tooltip:u.oneOfType([u.func,u.object]).isRequired,current:u.object,setCurrent:u.func.isRequired,onMouseEnter:u.func,onMouseMove:u.func,onMouseLeave:u.func,onClick:u.func,onTouchStart:u.func,onTouchMove:u.func,onTouchEnd:u.func};var D=e.memo(V),I=function(e){var i=e.points,r=e.symbol,n=e.size,t=e.borderWidth,a=e.enableLabel,s=e.label,l=e.labelYOffset,u=o.useTheme(),c=o.getLabelGenerator(s),p=i.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:a?c(e.data):null}}));return d.jsx("g",{children:p.map((function(e){return d.jsx(o.DotsItem,{x:e.x,y:e.y,datum:e.datum,symbol:r,size:n,color:e.fill,borderWidth:t,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:u},e.id)}))})};I.propTypes={points:u.arrayOf(u.object),symbol:u.func,size:u.number.isRequired,color:u.func.isRequired,borderWidth:u.number.isRequired,borderColor:u.func.isRequired,enableLabel:u.bool.isRequired,label:u.oneOfType([u.string,u.func]).isRequired,labelYOffset:u.number};var Y=e.memo(I),A=function(o){var i=o.points,r=o.width,n=o.height,a=o.margin,s=o.setCurrent,l=o.onMouseEnter,u=o.onMouseMove,c=o.onMouseLeave,h=o.onClick,f=o.onTouchStart,v=o.onTouchMove,m=o.onTouchEnd,b=o.tooltip,y=o.debug,x=o.enableTouchCrosshair,g=t.useTooltip(),T=g.showTooltipAt,C=g.hideTooltip,R=e.useCallback((function(o,i){T(e.createElement(b,{point:o}),[o.x+a.left,o.y+a.top],"top"),s(o),l&&l(o,i)}),[s,T,b,l,a]),q=e.useCallback((function(o,i){T(e.createElement(b,{point:o}),[o.x+a.left,o.y+a.top],"top"),s(o),u&&u(o,i)}),[T,b,a.left,a.top,s,u]),M=e.useCallback((function(e,o){C(),s(null),c&&c(e,o)}),[C,s,c]),S=e.useCallback((function(e,o){h&&h(e,o)}),[h]),O=e.useCallback((function(o,i){T(e.createElement(b,{point:o}),[o.x+a.left,o.y+a.top],"top"),s(o),f&&f(o,i)}),[a.left,a.top,f,s,T,b]),k=e.useCallback((function(o,i){T(e.createElement(b,{point:o}),[o.x+a.left,o.y+a.top],"top"),s(o),v&&v(o,i)}),[a.left,a.top,v,s,T,b]),j=e.useCallback((function(e,o){C(),s(null),m&&m(e,o)}),[m,C,s]);return d.jsx(p.Mesh,{nodes:i,width:r,height:n,onMouseEnter:R,onMouseMove:q,onMouseLeave:M,onClick:S,onTouchStart:O,onTouchMove:k,onTouchEnd:j,enableTouchCrosshair:x,debug:y})};A.propTypes={points:u.arrayOf(u.object).isRequired,width:u.number.isRequired,height:u.number.isRequired,margin:u.object.isRequired,setCurrent:u.func.isRequired,onMouseEnter:u.func,onMouseMove:u.func,onMouseLeave:u.func,onClick:u.func,onTouchStart:u.func,onTouchMove:u.func,onTouchEnd:u.func,tooltip:u.oneOfType([u.func,u.object]).isRequired,debug:u.bool.isRequired};var X=e.memo(A),z=function(a){var s=a.data,l=a.xScale,u=void 0===l?{type:"point"}:l,c=a.xFormat,p=a.yScale,f=void 0===p?{type:"linear",min:0,max:"auto"}:p,m=a.yFormat,y=a.layers,x=void 0===y?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:y,g=a.curve,T=void 0===g?"linear":g,C=a.areaBaselineValue,R=void 0===C?0:C,q=a.colors,M=void 0===q?{scheme:"nivo"}:q,S=a.margin,O=a.width,j=a.height,w=a.axisTop,E=a.axisRight,P=a.axisBottom,B=void 0===P?{}:P,G=a.axisLeft,F=void 0===G?{}:G,V=a.enableGridX,I=void 0===V||V,A=a.enableGridY,z=void 0===A||A,H=a.gridXValues,_=a.gridYValues,N=a.lineWidth,U=void 0===N?2:N,Q=a.enableArea,J=void 0!==Q&&Q,K=a.areaOpacity,Z=void 0===K?.2:K,$=a.areaBlendMode,ee=void 0===$?"normal":$,oe=a.enablePoints,ie=void 0===oe||oe,re=a.pointSymbol,ne=a.pointSize,te=void 0===ne?6:ne,ae=a.pointColor,se=void 0===ae?{from:"color"}:ae,le=a.pointBorderWidth,ue=void 0===le?0:le,de=a.pointBorderColor,ce=void 0===de?{theme:"background"}:de,pe=a.enablePointLabel,he=void 0!==pe&&pe,fe=a.pointLabel,ve=void 0===fe?"yFormatted":fe,me=a.pointLabelYOffset,be=a.defs,ye=void 0===be?[]:be,xe=a.fill,ge=void 0===xe?[]:xe,Te=a.markers,Ce=a.legends,Re=void 0===Ce?[]:Ce,qe=a.isInteractive,Me=void 0===qe||qe,Se=a.useMesh,Oe=void 0!==Se&&Se,ke=a.debugMesh,je=void 0!==ke&&ke,we=a.onMouseEnter,Le=a.onMouseMove,Ee=a.onMouseLeave,Pe=a.onClick,Be=a.onTouchStart,We=a.onTouchMove,Ge=a.onTouchEnd,Fe=a.tooltip,Ve=void 0===Fe?v:Fe,De=a.enableSlices,Ie=void 0!==De&&De,Ye=a.debugSlices,Ae=void 0!==Ye&&Ye,Xe=a.sliceTooltip,ze=void 0===Xe?b:Xe,He=a.enableCrosshair,_e=void 0===He||He,Ne=a.crosshairType,Ue=void 0===Ne?"bottom-left":Ne,Qe=a.enableTouchCrosshair,Je=void 0!==Qe&&Qe,Ke=a.role,Ze=void 0===Ke?"img":Ke,$e=o.useDimensions(O,j,S),eo=$e.margin,oo=$e.innerWidth,io=$e.innerHeight,ro=$e.outerWidth,no=$e.outerHeight,to=k({data:s,xScale:u,xFormat:c,yScale:f,yFormat:m,width:oo,height:io,colors:M,curve:T,areaBaselineValue:R,pointColor:se,pointBorderColor:ce,enableSlices:Ie}),ao=to.legendData,so=to.toggleSerie,lo=to.lineGenerator,uo=to.areaGenerator,co=to.series,po=to.xScale,ho=to.yScale,fo=to.slices,vo=to.points,mo=o.useTheme(),bo=i.useInheritedColor(se,mo),yo=i.useInheritedColor(ce,mo),xo=e.useState(null),go=xo[0],To=xo[1],Co=e.useState(null),Ro=Co[0],qo=Co[1],Mo={grid:d.jsx(r.Grid,{theme:mo,width:oo,height:io,xScale:I?po:null,yScale:z?ho:null,xValues:H,yValues:_},"grid"),markers:d.jsx(o.CartesianMarkers,{markers:Te,width:oo,height:io,xScale:po,yScale:ho,theme:mo},"markers"),axes:d.jsx(r.Axes,{xScale:po,yScale:ho,width:oo,height:io,theme:mo,top:w,right:E,bottom:B,left:F},"axes"),areas:null,lines:d.jsx(W,{lines:co,lineGenerator:lo,lineWidth:U},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Re.map((function(e,o){return d.jsx(n.BoxLegendSvg,h({},e,{containerWidth:oo,containerHeight:io,data:e.data||ao,theme:mo,toggleSerie:e.toggleSerie?so:void 0}),"legend."+o)}))},So=o.bindDefs(ye,co,ge);return J&&(Mo.areas=d.jsx(L,{areaGenerator:uo,areaOpacity:Z,areaBlendMode:ee,lines:co},"areas")),Me&&!1!==Ie&&(Mo.slices=d.jsx(D,{slices:fo,axis:Ie,debug:Ae,height:io,tooltip:ze,current:Ro,setCurrent:qo,onMouseEnter:we,onMouseMove:Le,onMouseLeave:Ee,onClick:Pe,onTouchStart:Be,onTouchMove:We,onTouchEnd:Ge},"slices")),ie&&(Mo.points=d.jsx(Y,{points:vo,symbol:re,size:te,color:bo,borderWidth:ue,borderColor:yo,enableLabel:he,label:ve,labelYOffset:me},"points")),Me&&_e&&(null!==go&&(Mo.crosshair=d.jsx(t.Crosshair,{width:oo,height:io,x:go.x,y:go.y,type:Ue},"crosshair")),null!==Ro&&(Mo.crosshair=d.jsx(t.Crosshair,{width:oo,height:io,x:Ro.x,y:Ro.y,type:Ie},"crosshair"))),Me&&Oe&&!1===Ie&&(Mo.mesh=d.jsx(X,{points:vo,width:oo,height:io,margin:eo,current:go,setCurrent:To,onMouseEnter:we,onMouseMove:Le,onMouseLeave:Ee,onClick:Pe,onTouchStart:Be,onTouchMove:We,onTouchEnd:Ge,tooltip:Ve,enableTouchCrosshair:Je,debug:je},"mesh")),d.jsx(o.SvgWrapper,{defs:So,width:ro,height:no,margin:eo,role:Ze,children:x.map((function(o,i){return"function"==typeof o?d.jsx(e.Fragment,{children:o(h({},a,{innerWidth:oo,innerHeight:io,series:co,slices:fo,points:vo,xScale:po,yScale:ho,lineGenerator:lo,areaGenerator:uo,currentPoint:go,setCurrentPoint:To,currentSlice:Ro,setCurrentSlice:qo}))},i):Mo[o]}))})};z.propTypes=x;var H=o.withContainer(z),_=function(i){var a=e.useRef(null),s=i.width,l=i.height,u=i.margin,c=i.pixelRatio,f=void 0===c?"undefined"!=typeof window&&window.devicePixelRatio||1:c,m=i.data,b=i.xScale,y=void 0===b?{type:"point"}:b,x=i.xFormat,g=i.yScale,T=void 0===g?{type:"linear",min:0,max:"auto"}:g,C=i.yFormat,R=i.curve,q=void 0===R?"linear":R,M=i.layers,S=void 0===M?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:M,O=i.colors,j=void 0===O?{scheme:"nivo"}:O,w=i.lineWidth,L=void 0===w?2:w,E=i.enableArea,P=void 0!==E&&E,B=i.areaBaselineValue,W=void 0===B?0:B,G=i.areaOpacity,F=void 0===G?.2:G,V=i.enablePoints,D=void 0===V||V,I=i.pointSize,Y=void 0===I?6:I,A=i.pointColor,X=void 0===A?{from:"color"}:A,z=i.pointBorderWidth,H=void 0===z?0:z,_=i.pointBorderColor,N=void 0===_?{theme:"background"}:_,U=i.enableGridX,Q=void 0===U||U,J=i.gridXValues,K=i.enableGridY,Z=void 0===K||K,$=i.gridYValues,ee=i.axisTop,oe=i.axisRight,ie=i.axisBottom,re=void 0===ie?{}:ie,ne=i.axisLeft,te=void 0===ne?{}:ne,ae=i.legends,se=void 0===ae?[]:ae,le=i.isInteractive,ue=void 0===le||le,de=i.debugMesh,ce=void 0!==de&&de,pe=i.onMouseLeave,he=i.onClick,fe=i.tooltip,ve=void 0===fe?v:fe,me=i.canvasRef,be=o.useDimensions(s,l,u),ye=be.margin,xe=be.innerWidth,ge=be.innerHeight,Te=be.outerWidth,Ce=be.outerHeight,Re=o.useTheme(),qe=e.useState(null),Me=qe[0],Se=qe[1],Oe=k({data:m,xScale:y,xFormat:x,yScale:T,yFormat:C,width:xe,height:ge,colors:j,curve:q,areaBaselineValue:W,pointColor:X,pointBorderColor:N}),ke=Oe.lineGenerator,je=Oe.areaGenerator,we=Oe.series,Le=Oe.xScale,Ee=Oe.yScale,Pe=Oe.points,Be=p.useVoronoiMesh({points:Pe,width:xe,height:ge,debug:ce}),We=Be.delaunay,Ge=Be.voronoi;e.useEffect((function(){me&&(me.current=a.current),a.current.width=Te*f,a.current.height=Ce*f;var e=a.current.getContext("2d");e.scale(f,f),e.fillStyle=Re.background,e.fillRect(0,0,Te,Ce),e.translate(ye.left,ye.top),S.forEach((function(o){if("function"==typeof o&&o({ctx:e,innerWidth:xe,innerHeight:ge,series:we,points:Pe,xScale:Le,yScale:Ee,lineWidth:L,lineGenerator:ke,areaGenerator:je,currentPoint:Me,setCurrentPoint:Se}),"grid"===o&&Re.grid.line.strokeWidth>0&&(e.lineWidth=Re.grid.line.strokeWidth,e.strokeStyle=Re.grid.line.stroke,Q&&r.renderGridLinesToCanvas(e,{width:xe,height:ge,scale:Le,axis:"x",values:J}),Z&&r.renderGridLinesToCanvas(e,{width:xe,height:ge,scale:Ee,axis:"y",values:$})),"axes"===o&&r.renderAxesToCanvas(e,{xScale:Le,yScale:Ee,width:xe,height:ge,top:ee,right:oe,bottom:re,left:te,theme:Re}),"areas"===o&&!0===P&&(e.save(),e.globalAlpha=F,je.context(e),we.forEach((function(o){e.fillStyle=o.color,e.beginPath(),je(o.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===o&&(ke.context(e),we.forEach((function(o){e.strokeStyle=o.color,e.lineWidth=L,e.beginPath(),ke(o.data.map((function(e){return e.position}))),e.stroke()}))),"points"===o&&!0===D&&Y>0&&Pe.forEach((function(o){e.fillStyle=o.color,e.beginPath(),e.arc(o.x,o.y,Y/2,0,2*Math.PI),e.fill(),H>0&&(e.strokeStyle=o.borderColor,e.lineWidth=H,e.stroke())})),"mesh"===o&&!0===ce&&(p.renderVoronoiToCanvas(e,Ge),Me&&p.renderVoronoiCellToCanvas(e,Ge,Me.index)),"legends"===o){var i=we.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();se.forEach((function(o){n.renderLegendToCanvas(e,h({},o,{data:o.data||i,containerWidth:xe,containerHeight:ge,theme:Re}))}))}}))}),[a,Te,Ce,S,Re,ke,we,Le,Ee,Q,J,Z,$,ee,oe,re,te,se,Pe,D,Y,Me]);var Fe=e.useCallback((function(e){var i=o.getRelativeCursor(a.current,e),r=i[0],n=i[1];if(!o.isCursorInRect(ye.left,ye.top,xe,ge,r,n))return null;var t=We.find(r-ye.left,n-ye.top);return Pe[t]}),[a,ye,xe,ge,We]),Ve=t.useTooltip(),De=Ve.showTooltipFromEvent,Ie=Ve.hideTooltip,Ye=e.useCallback((function(o){var i=Fe(o);Se(i),i?De(e.createElement(ve,{point:i}),o):Ie()}),[Fe,Se,De,Ie,ve]),Ae=e.useCallback((function(e){Ie(),Se(null),Me&&pe&&pe(Me,e)}),[Ie,Se,pe]),Xe=e.useCallback((function(e){if(he){var o=Fe(e);o&&he(o,e)}}),[Fe,he]);return d.jsx("canvas",{ref:a,width:Te*f,height:Ce*f,style:{width:Te,height:Ce,cursor:ue?"auto":"normal"},onMouseEnter:ue?Ye:void 0,onMouseMove:ue?Ye:void 0,onMouseLeave:ue?Ae:void 0,onClick:ue?Xe:void 0})};_.propTypes=g;var N=o.withContainer(_),U=e.forwardRef((function(e,o){return d.jsx(N,h({},e,{canvasRef:o}))})),Q=e.forwardRef((function(e,i){return d.jsx(o.ResponsiveWrapper,{children:function(o){var r=o.width,n=o.height;return d.jsx(U,h({width:r,height:n},e,{ref:i}))}})}));exports.LINE_UNIQUE_ID_PREFIX=O,exports.Line=H,exports.LineCanvas=U,exports.LineCanvasDefaultProps=R,exports.LineCanvasPropTypes=g,exports.LineDefaultProps=C,exports.LinePropTypes=x,exports.ResponsiveLine=function(e){return d.jsx(o.ResponsiveWrapper,{children:function(o){var i=o.width,r=o.height;return d.jsx(H,h({width:i,height:r},e))}})},exports.ResponsiveLineCanvas=Q,exports.useAreaGenerator=M,exports.useLine=k,exports.useLineGenerator=q,exports.useSlices=S;
//# sourceMappingURL=nivo-line.cjs.js.map
