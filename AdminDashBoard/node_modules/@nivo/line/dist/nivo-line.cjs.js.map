{"version":3,"file":"nivo-line.cjs.js","sources":["../src/PointTooltip.js","../src/SliceTooltip.js","../src/props.js","../src/hooks.js","../src/Areas.js","../src/LinesItem.js","../src/Lines.js","../src/SlicesItem.js","../src/Slices.js","../src/Points.js","../src/Mesh.js","../src/Line.js","../src/LineCanvas.js","../src/ResponsiveLineCanvas.js","../src/ResponsiveLine.js"],"sourcesContent":["/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { BasicTooltip } from '@nivo/tooltip'\n\nconst LinePointTooltip = ({ point }) => {\n    return (\n        <BasicTooltip\n            id={\n                <span>\n                    x: <strong>{point.data.xFormatted}</strong>, y:{' '}\n                    <strong>{point.data.yFormatted}</strong>\n                </span>\n            }\n            enableChip={true}\n            color={point.serieColor}\n        />\n    )\n}\n\nLinePointTooltip.propTypes = {\n    point: PropTypes.object.isRequired,\n}\n\nexport default memo(LinePointTooltip)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '@nivo/core'\nimport { Chip, TableTooltip } from '@nivo/tooltip'\n\nconst SliceTooltip = ({ slice, axis }) => {\n    const theme = useTheme()\n    const otherAxis = axis === 'x' ? 'y' : 'x'\n\n    return (\n        <TableTooltip\n            rows={slice.points.map(point => [\n                <Chip key=\"chip\" color={point.serieColor} style={theme.tooltip.chip} />,\n                point.serieId,\n                <span key=\"value\" style={theme.tooltip.tableCellValue}>\n                    {point.data[`${otherAxis}Formatted`]}\n                </span>,\n            ])}\n        />\n    )\n}\n\nSliceTooltip.propTypes = {\n    slice: PropTypes.object.isRequired,\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n}\n\nexport default memo(SliceTooltip)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { lineCurvePropType, blendModePropType, motionPropTypes, defsPropTypes } from '@nivo/core'\nimport { ordinalColorsPropType } from '@nivo/colors'\nimport { axisPropType } from '@nivo/axes'\nimport { LegendPropShape } from '@nivo/legends'\nimport PointTooltip from './PointTooltip'\nimport SliceTooltip from './SliceTooltip'\n\nconst commonPropTypes = {\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            data: PropTypes.arrayOf(\n                PropTypes.shape({\n                    x: PropTypes.oneOfType([\n                        PropTypes.number,\n                        PropTypes.string,\n                        PropTypes.instanceOf(Date),\n                    ]),\n                    y: PropTypes.oneOfType([\n                        PropTypes.number,\n                        PropTypes.string,\n                        PropTypes.instanceOf(Date),\n                    ]),\n                })\n            ).isRequired,\n        })\n    ).isRequired,\n\n    xScale: PropTypes.object.isRequired,\n    xFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    yScale: PropTypes.object.isRequired,\n    yFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n    layers: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.oneOf([\n                'grid',\n                'markers',\n                'axes',\n                'areas',\n                'crosshair',\n                'lines',\n                'slices',\n                'points',\n                'mesh',\n                'legends',\n            ]),\n            PropTypes.func,\n        ])\n    ).isRequired,\n\n    curve: lineCurvePropType.isRequired,\n\n    axisTop: axisPropType,\n    axisRight: axisPropType,\n    axisBottom: axisPropType,\n    axisLeft: axisPropType,\n\n    enableGridX: PropTypes.bool.isRequired,\n    enableGridY: PropTypes.bool.isRequired,\n    gridXValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n    ]),\n    gridYValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n    ]),\n\n    enablePoints: PropTypes.bool.isRequired,\n    pointSymbol: PropTypes.func,\n    pointSize: PropTypes.number.isRequired,\n    pointColor: PropTypes.any.isRequired,\n    pointBorderWidth: PropTypes.number.isRequired,\n    pointBorderColor: PropTypes.any.isRequired,\n    enablePointLabel: PropTypes.bool.isRequired,\n    pointLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n\n    markers: PropTypes.arrayOf(\n        PropTypes.shape({\n            axis: PropTypes.oneOf(['x', 'y']).isRequired,\n            value: PropTypes.oneOfType([\n                PropTypes.number,\n                PropTypes.string,\n                PropTypes.instanceOf(Date),\n            ]).isRequired,\n            style: PropTypes.object,\n        })\n    ),\n\n    colors: ordinalColorsPropType.isRequired,\n\n    enableArea: PropTypes.bool.isRequired,\n    areaOpacity: PropTypes.number.isRequired,\n    areaBlendMode: blendModePropType.isRequired,\n    areaBaselineValue: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.string,\n        PropTypes.instanceOf(Date),\n    ]).isRequired,\n    lineWidth: PropTypes.number.isRequired,\n\n    legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n\n    isInteractive: PropTypes.bool.isRequired,\n    debugMesh: PropTypes.bool.isRequired,\n\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    enableSlices: PropTypes.oneOf(['x', 'y', false]).isRequired,\n    debugSlices: PropTypes.bool.isRequired,\n    sliceTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    enableCrosshair: PropTypes.bool.isRequired,\n    crosshairType: PropTypes.string.isRequired,\n}\n\nexport const LinePropTypes = {\n    ...commonPropTypes,\n    enablePointLabel: PropTypes.bool.isRequired,\n    role: PropTypes.string.isRequired,\n    useMesh: PropTypes.bool.isRequired,\n    enableTouchCrosshair: PropTypes.bool,\n    ...motionPropTypes,\n    ...defsPropTypes,\n}\n\nexport const LineCanvasPropTypes = {\n    pixelRatio: PropTypes.number.isRequired,\n    ...commonPropTypes,\n}\n\nconst commonDefaultProps = {\n    curve: 'linear',\n\n    xScale: {\n        type: 'point',\n    },\n    yScale: {\n        type: 'linear',\n        min: 0,\n        max: 'auto',\n    },\n\n    layers: [\n        'grid',\n        'markers',\n        'axes',\n        'areas',\n        'crosshair',\n        'lines',\n        'points',\n        'slices',\n        'mesh',\n        'legends',\n    ],\n    axisBottom: {},\n    axisLeft: {},\n    enableGridX: true,\n    enableGridY: true,\n\n    enablePoints: true,\n    pointSize: 6,\n    pointColor: { from: 'color' },\n    pointBorderWidth: 0,\n    pointBorderColor: { theme: 'background' },\n    enablePointLabel: false,\n    pointLabel: 'yFormatted',\n\n    colors: { scheme: 'nivo' },\n    enableArea: false,\n    areaBaselineValue: 0,\n    areaOpacity: 0.2,\n    areaBlendMode: 'normal',\n    lineWidth: 2,\n\n    legends: [],\n\n    isInteractive: true,\n    tooltip: PointTooltip,\n    enableSlices: false,\n    debugSlices: false,\n    sliceTooltip: SliceTooltip,\n    debugMesh: false,\n    enableCrosshair: true,\n    crosshairType: 'bottom-left',\n}\n\nexport const LineDefaultProps = {\n    ...commonDefaultProps,\n    enablePointLabel: false,\n    useMesh: false,\n    enableTouchCrosshair: false,\n    animate: true,\n    motionConfig: 'gentle',\n    defs: [],\n    fill: [],\n    role: 'img',\n}\n\nexport const LineCanvasDefaultProps = {\n    ...commonDefaultProps,\n    pixelRatio: typeof window !== 'undefined' ? window.devicePixelRatio || 1 : 1,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useCallback, useMemo, useState } from 'react'\nimport { area, line } from 'd3-shape'\nimport { curveFromProp, useTheme, useValueFormatter } from '@nivo/core'\nimport { useOrdinalColorScale, useInheritedColor } from '@nivo/colors'\nimport { computeXYScalesForSeries } from '@nivo/scales'\nimport uniqueId from 'lodash/uniqueId'\nimport { LineDefaultProps } from './props'\n\nexport const useLineGenerator = ({ curve }) => {\n    return useMemo(\n        () =>\n            line()\n                .defined(d => d.x !== null && d.y !== null)\n                .x(d => d.x)\n                .y(d => d.y)\n                .curve(curveFromProp(curve)),\n        [curve]\n    )\n}\n\nexport const useAreaGenerator = ({ curve, yScale, areaBaselineValue }) => {\n    return useMemo(() => {\n        return area()\n            .defined(d => d.x !== null && d.y !== null)\n            .x(d => d.x)\n            .y1(d => d.y)\n            .curve(curveFromProp(curve))\n            .y0(yScale(areaBaselineValue))\n    }, [curve, yScale, areaBaselineValue])\n}\n\nconst usePoints = ({ series, getPointColor, getPointBorderColor, formatX, formatY }) => {\n    return useMemo(() => {\n        return series.reduce((acc, serie) => {\n            return [\n                ...acc,\n                ...serie.data\n                    .filter(datum => datum.position.x !== null && datum.position.y !== null)\n                    .map((datum, i) => {\n                        const point = {\n                            id: `${serie.id}.${i}`,\n                            index: acc.length + i,\n                            serieId: serie.id,\n                            serieColor: serie.color,\n                            x: datum.position.x,\n                            y: datum.position.y,\n                        }\n                        point.color = getPointColor(serie)\n                        point.borderColor = getPointBorderColor(point)\n                        point.data = {\n                            ...datum.data,\n                            xFormatted: formatX(datum.data.x),\n                            yFormatted: formatY(datum.data.y),\n                        }\n\n                        return point\n                    }),\n            ]\n        }, [])\n    }, [series, getPointColor, getPointBorderColor, formatX, formatY])\n}\n\nexport const useSlices = ({ componentId, enableSlices, points, width, height }) => {\n    return useMemo(() => {\n        if (enableSlices === false) return []\n\n        if (enableSlices === 'x') {\n            const map = new Map()\n            points.forEach(point => {\n                if (point.data.x === null || point.data.y === null) return\n                if (!map.has(point.x)) map.set(point.x, [point])\n                else map.get(point.x).push(point)\n            })\n            return Array.from(map.entries())\n                .sort((a, b) => a[0] - b[0])\n                .map(([x, slicePoints], i, slices) => {\n                    const prevSlice = slices[i - 1]\n                    const nextSlice = slices[i + 1]\n\n                    let x0\n                    if (!prevSlice) x0 = x\n                    else x0 = x - (x - prevSlice[0]) / 2\n\n                    let sliceWidth\n                    if (!nextSlice) sliceWidth = width - x0\n                    else sliceWidth = x - x0 + (nextSlice[0] - x) / 2\n\n                    return {\n                        id: `slice:${componentId}:${x}`,\n                        x0,\n                        x,\n                        y0: 0,\n                        y: 0,\n                        width: sliceWidth,\n                        height,\n                        points: slicePoints.reverse(),\n                    }\n                })\n        } else if (enableSlices === 'y') {\n            const map = new Map()\n            points.forEach(point => {\n                if (point.data.x === null || point.data.y === null) return\n                if (!map.has(point.y)) map.set(point.y, [point])\n                else map.get(point.y).push(point)\n            })\n            return Array.from(map.entries())\n                .sort((a, b) => a[0] - b[0])\n                .map(([y, slicePoints], i, slices) => {\n                    const prevSlice = slices[i - 1]\n                    const nextSlice = slices[i + 1]\n\n                    let y0\n                    if (!prevSlice) y0 = y\n                    else y0 = y - (y - prevSlice[0]) / 2\n\n                    let sliceHeight\n                    if (!nextSlice) sliceHeight = height - y0\n                    else sliceHeight = y - y0 + (nextSlice[0] - y) / 2\n\n                    return {\n                        id: y,\n                        x0: 0,\n                        x: 0,\n                        y0,\n                        y,\n                        width,\n                        height: sliceHeight,\n                        points: slicePoints.reverse(),\n                    }\n                })\n        }\n    }, [componentId, enableSlices, height, points, width])\n}\n\nexport const LINE_UNIQUE_ID_PREFIX = 'line'\n\nexport const useLine = ({\n    data,\n    xScale: xScaleSpec = LineDefaultProps.xScale,\n    xFormat,\n    yScale: yScaleSpec = LineDefaultProps.yScale,\n    yFormat,\n    width,\n    height,\n    colors = LineDefaultProps.colors,\n    curve = LineDefaultProps.curve,\n    areaBaselineValue = LineDefaultProps.areaBaselineValue,\n    pointColor = LineDefaultProps.pointColor,\n    pointBorderColor = LineDefaultProps.pointBorderColor,\n    enableSlices = LineDefaultProps.enableSlicesTooltip,\n}) => {\n    const [componentId] = useState(uniqueId(LINE_UNIQUE_ID_PREFIX))\n    const formatX = useValueFormatter(xFormat)\n    const formatY = useValueFormatter(yFormat)\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const theme = useTheme()\n    const getPointColor = useInheritedColor(pointColor, theme)\n    const getPointBorderColor = useInheritedColor(pointBorderColor, theme)\n    const [hiddenIds, setHiddenIds] = useState([])\n\n    const {\n        xScale,\n        yScale,\n        series: rawSeries,\n    } = useMemo(\n        () =>\n            computeXYScalesForSeries(\n                data.filter(item => hiddenIds.indexOf(item.id) === -1),\n                xScaleSpec,\n                yScaleSpec,\n                width,\n                height\n            ),\n        [data, hiddenIds, xScaleSpec, yScaleSpec, width, height]\n    )\n\n    const { legendData, series } = useMemo(() => {\n        const dataWithColor = data.map(line => ({\n            id: line.id,\n            label: line.id,\n            color: getColor(line),\n        }))\n        const series = dataWithColor\n            .map(datum => ({\n                ...rawSeries.find(serie => serie.id === datum.id),\n                color: datum.color,\n            }))\n            .filter(item => Boolean(item.id))\n        const legendData = dataWithColor\n            .map(item => ({ ...item, hidden: !series.find(serie => serie.id === item.id) }))\n            .reverse()\n\n        return { legendData, series }\n    }, [data, rawSeries, getColor])\n\n    const toggleSerie = useCallback(id => {\n        setHiddenIds(state =>\n            state.indexOf(id) > -1 ? state.filter(item => item !== id) : [...state, id]\n        )\n    }, [])\n\n    const points = usePoints({\n        series,\n        getPointColor,\n        getPointBorderColor,\n        formatX,\n        formatY,\n    })\n\n    const slices = useSlices({\n        componentId,\n        enableSlices,\n        points,\n        width,\n        height,\n    })\n\n    const lineGenerator = useLineGenerator({ curve })\n    const areaGenerator = useAreaGenerator({\n        curve,\n        yScale,\n        areaBaselineValue,\n    })\n\n    return {\n        legendData,\n        toggleSerie,\n        lineGenerator,\n        areaGenerator,\n        getColor,\n        series,\n        xScale,\n        yScale,\n        slices,\n        points,\n    }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from '@react-spring/web'\nimport { useAnimatedPath, useMotionConfig, blendModePropType } from '@nivo/core'\n\nconst AreaPath = ({ areaBlendMode, areaOpacity, color, fill, path }) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedPath = useAnimatedPath(path)\n    const animatedProps = useSpring({\n        color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.path\n            d={animatedPath}\n            fill={fill ? fill : animatedProps.color}\n            fillOpacity={areaOpacity}\n            strokeWidth={0}\n            style={{\n                mixBlendMode: areaBlendMode,\n            }}\n        />\n    )\n}\n\nAreaPath.propTypes = {\n    areaBlendMode: blendModePropType.isRequired,\n    areaOpacity: PropTypes.number.isRequired,\n    color: PropTypes.string,\n    fill: PropTypes.string,\n    path: PropTypes.string.isRequired,\n}\n\nconst Areas = ({ areaGenerator, areaOpacity, areaBlendMode, lines }) => {\n    const computedLines = lines.slice(0).reverse()\n\n    return (\n        <g>\n            {computedLines.map(line => (\n                <AreaPath\n                    key={line.id}\n                    path={areaGenerator(line.data.map(d => d.position))}\n                    {...{ areaOpacity, areaBlendMode, ...line }}\n                />\n            ))}\n        </g>\n    )\n}\n\nAreas.propTypes = {\n    areaGenerator: PropTypes.func.isRequired,\n    areaOpacity: PropTypes.number.isRequired,\n    areaBlendMode: blendModePropType.isRequired,\n    lines: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n\nexport default memo(Areas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { animated } from '@react-spring/web'\nimport { useAnimatedPath } from '@nivo/core'\n\nconst LinesItem = ({ lineGenerator, points, color, thickness }) => {\n    const path = useMemo(() => lineGenerator(points), [lineGenerator, points])\n    const animatedPath = useAnimatedPath(path)\n\n    return <animated.path d={animatedPath} fill=\"none\" strokeWidth={thickness} stroke={color} />\n}\n\nLinesItem.propTypes = {\n    points: PropTypes.arrayOf(\n        PropTypes.shape({\n            x: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            y: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        })\n    ),\n    lineGenerator: PropTypes.func.isRequired,\n    color: PropTypes.string.isRequired,\n    thickness: PropTypes.number.isRequired,\n}\n\nexport default memo(LinesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport LinesItem from './LinesItem'\n\nconst Lines = ({ lines, lineGenerator, lineWidth }) => {\n    return lines\n        .slice(0)\n        .reverse()\n        .map(({ id, data, color }) => (\n            <LinesItem\n                key={id}\n                id={id}\n                points={data.map(d => d.position)}\n                lineGenerator={lineGenerator}\n                color={color}\n                thickness={lineWidth}\n            />\n        ))\n}\n\nLines.propTypes = {\n    lines: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n            data: PropTypes.arrayOf(\n                PropTypes.shape({\n                    data: PropTypes.shape({\n                        x: PropTypes.oneOfType([\n                            PropTypes.string,\n                            PropTypes.number,\n                            PropTypes.instanceOf(Date),\n                        ]),\n                        y: PropTypes.oneOfType([\n                            PropTypes.string,\n                            PropTypes.number,\n                            PropTypes.instanceOf(Date),\n                        ]),\n                    }).isRequired,\n                    position: PropTypes.shape({\n                        x: PropTypes.number,\n                        y: PropTypes.number,\n                    }).isRequired,\n                })\n            ).isRequired,\n        })\n    ).isRequired,\n    lineWidth: PropTypes.number.isRequired,\n    lineGenerator: PropTypes.func.isRequired,\n}\n\nexport default memo(Lines)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { createElement, memo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@nivo/tooltip'\n\nconst SlicesItem = ({\n    slice,\n    slices,\n    axis,\n    debug,\n    tooltip,\n    isCurrent,\n    setCurrent,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    onTouchStart,\n    onTouchMove,\n    onTouchEnd,\n}) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        event => {\n            showTooltipFromEvent(createElement(tooltip, { slice, axis }), event, 'right')\n            setCurrent(slice)\n            onMouseEnter && onMouseEnter(slice, event)\n        },\n        [showTooltipFromEvent, tooltip, slice, axis, setCurrent, onMouseEnter]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            showTooltipFromEvent(createElement(tooltip, { slice, axis }), event, 'right')\n            onMouseMove && onMouseMove(slice, event)\n        },\n        [showTooltipFromEvent, tooltip, slice, axis, onMouseMove]\n    )\n\n    const handleMouseLeave = useCallback(\n        event => {\n            hideTooltip()\n            setCurrent(null)\n            onMouseLeave && onMouseLeave(slice, event)\n        },\n        [hideTooltip, setCurrent, onMouseLeave, slice]\n    )\n\n    const handleClick = useCallback(\n        event => {\n            onClick && onClick(slice, event)\n        },\n        [slice, onClick]\n    )\n\n    const handeOnTouchStart = useCallback(\n        event => {\n            showTooltipFromEvent(createElement(tooltip, { slice, axis }), event, 'right')\n            setCurrent(slice)\n            onTouchStart && onTouchStart(slice, event)\n        },\n        [axis, onTouchStart, setCurrent, showTooltipFromEvent, slice, tooltip]\n    )\n\n    const handeOnTouchMove = useCallback(\n        event => {\n            // This event will be locked to the element that was touched originally\n            // We find the element that is currently being \"hovered over\" by getting the element at the touch point\n            const touchPoint = event.touches[0]\n            const touchingElement = document.elementFromPoint(\n                touchPoint.clientX,\n                touchPoint.clientY\n            )\n            // Is this a nivo ref?\n            const touchingSliceId = touchingElement?.getAttribute('data-ref')\n            if (touchingSliceId) {\n                // Is this a slice for this graph?\n                const slice = slices.find(slice => slice.id === touchingSliceId)\n                if (slice) {\n                    showTooltipFromEvent(createElement(tooltip, { slice, axis }), event, 'right')\n                    setCurrent(slice)\n                }\n            }\n\n            // Note here, this will pass the original slice, not the one we found\n            // But this can be found with document.elementFromPoint()\n            onTouchMove && onTouchMove(slice, event)\n        },\n        [axis, onTouchMove, setCurrent, showTooltipFromEvent, slice, slices, tooltip]\n    )\n\n    const handleOnTouchEnd = useCallback(\n        event => {\n            hideTooltip()\n            setCurrent(null)\n            onTouchEnd && onTouchEnd(slice, event)\n        },\n        [hideTooltip, setCurrent, onTouchEnd, slice]\n    )\n\n    return (\n        <rect\n            x={slice.x0}\n            y={slice.y0}\n            width={slice.width}\n            height={slice.height}\n            stroke=\"red\"\n            strokeWidth={debug ? 1 : 0}\n            strokeOpacity={0.75}\n            fill=\"red\"\n            fillOpacity={isCurrent && debug ? 0.35 : 0}\n            onMouseEnter={handleMouseEnter}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n            onClick={handleClick}\n            onTouchStart={handeOnTouchStart}\n            onTouchMove={handeOnTouchMove}\n            onTouchEnd={handleOnTouchEnd}\n            data-ref={slice.id}\n        />\n    )\n}\n\nSlicesItem.propTypes = {\n    slice: PropTypes.object.isRequired,\n    slices: PropTypes.arrayOf(PropTypes.object).isRequired,\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    debug: PropTypes.bool.isRequired,\n    height: PropTypes.number.isRequired,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    isCurrent: PropTypes.bool.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n}\n\nexport default memo(SlicesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport SlicesItem from './SlicesItem'\n\nconst Slices = ({\n    slices,\n    axis,\n    debug,\n    height,\n    tooltip,\n    current,\n    setCurrent,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    onTouchStart,\n    onTouchMove,\n    onTouchEnd,\n}) => {\n    return slices.map(slice => (\n        <SlicesItem\n            key={slice.id}\n            slice={slice}\n            slices={slices}\n            axis={axis}\n            debug={debug}\n            height={height}\n            tooltip={tooltip}\n            setCurrent={setCurrent}\n            isCurrent={current !== null && current.id === slice.id}\n            onMouseEnter={onMouseEnter}\n            onMouseMove={onMouseMove}\n            onMouseLeave={onMouseLeave}\n            onClick={onClick}\n            onTouchStart={onTouchStart}\n            onTouchMove={onTouchMove}\n            onTouchEnd={onTouchEnd}\n        />\n    ))\n}\n\nSlices.propTypes = {\n    slices: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([\n                PropTypes.number,\n                PropTypes.string,\n                PropTypes.instanceOf(Date),\n            ]).isRequired,\n            x: PropTypes.number.isRequired,\n            y: PropTypes.number.isRequired,\n            points: PropTypes.arrayOf(PropTypes.object).isRequired,\n        })\n    ).isRequired,\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    debug: PropTypes.bool.isRequired,\n    height: PropTypes.number.isRequired,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    current: PropTypes.object,\n    setCurrent: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n    onTouchStart: PropTypes.func,\n    onTouchMove: PropTypes.func,\n    onTouchEnd: PropTypes.func,\n}\n\nexport default memo(Slices)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { getLabelGenerator, DotsItem, useTheme } from '@nivo/core'\n\nconst Points = ({ points, symbol, size, borderWidth, enableLabel, label, labelYOffset }) => {\n    const theme = useTheme()\n    const getLabel = getLabelGenerator(label)\n\n    /**\n     * We reverse the `points` array so that points from the lower lines in stacked lines\n     * graph are drawn on top. See https://github.com/plouc/nivo/issues/1051.\n     */\n    const mappedPoints = points\n        .slice(0)\n        .reverse()\n        .map(point => {\n            const mappedPoint = {\n                id: point.id,\n                x: point.x,\n                y: point.y,\n                datum: point.data,\n                fill: point.color,\n                stroke: point.borderColor,\n                label: enableLabel ? getLabel(point.data) : null,\n            }\n\n            return mappedPoint\n        })\n\n    return (\n        <g>\n            {mappedPoints.map(point => (\n                <DotsItem\n                    key={point.id}\n                    x={point.x}\n                    y={point.y}\n                    datum={point.datum}\n                    symbol={symbol}\n                    size={size}\n                    color={point.fill}\n                    borderWidth={borderWidth}\n                    borderColor={point.stroke}\n                    label={point.label}\n                    labelYOffset={labelYOffset}\n                    theme={theme}\n                />\n            ))}\n        </g>\n    )\n}\n\nPoints.propTypes = {\n    points: PropTypes.arrayOf(PropTypes.object),\n    symbol: PropTypes.func,\n    size: PropTypes.number.isRequired,\n    color: PropTypes.func.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.func.isRequired,\n    enableLabel: PropTypes.bool.isRequired,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n    labelYOffset: PropTypes.number,\n}\n\nexport default memo(Points)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { createElement, memo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@nivo/tooltip'\nimport { Mesh as BaseMesh } from '@nivo/voronoi'\n\nconst Mesh = ({\n    points,\n    width,\n    height,\n    margin,\n    setCurrent,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    onTouchStart,\n    onTouchMove,\n    onTouchEnd,\n    tooltip,\n    debug,\n    enableTouchCrosshair,\n}) => {\n    const { showTooltipAt, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        (point, event) => {\n            showTooltipAt(\n                createElement(tooltip, { point }),\n                [point.x + margin.left, point.y + margin.top],\n                'top'\n            )\n            setCurrent(point)\n            onMouseEnter && onMouseEnter(point, event)\n        },\n        [setCurrent, showTooltipAt, tooltip, onMouseEnter, margin]\n    )\n\n    const handleMouseMove = useCallback(\n        (point, event) => {\n            showTooltipAt(\n                createElement(tooltip, { point }),\n                [point.x + margin.left, point.y + margin.top],\n                'top'\n            )\n            setCurrent(point)\n            onMouseMove && onMouseMove(point, event)\n        },\n        [showTooltipAt, tooltip, margin.left, margin.top, setCurrent, onMouseMove]\n    )\n\n    const handleMouseLeave = useCallback(\n        (point, event) => {\n            hideTooltip()\n            setCurrent(null)\n            onMouseLeave && onMouseLeave(point, event)\n        },\n        [hideTooltip, setCurrent, onMouseLeave]\n    )\n\n    const handleClick = useCallback(\n        (point, event) => {\n            onClick && onClick(point, event)\n        },\n        [onClick]\n    )\n\n    const handleTouchStart = useCallback(\n        (point, event) => {\n            showTooltipAt(\n                createElement(tooltip, { point }),\n                [point.x + margin.left, point.y + margin.top],\n                'top'\n            )\n            setCurrent(point)\n            onTouchStart && onTouchStart(point, event)\n        },\n        [margin.left, margin.top, onTouchStart, setCurrent, showTooltipAt, tooltip]\n    )\n\n    const handleTouchMove = useCallback(\n        (point, event) => {\n            showTooltipAt(\n                createElement(tooltip, { point }),\n                [point.x + margin.left, point.y + margin.top],\n                'top'\n            )\n            setCurrent(point)\n            onTouchMove && onTouchMove(point, event)\n        },\n        [margin.left, margin.top, onTouchMove, setCurrent, showTooltipAt, tooltip]\n    )\n\n    const handleTouchEnd = useCallback(\n        (point, event) => {\n            hideTooltip()\n            setCurrent(null)\n            onTouchEnd && onTouchEnd(point, event)\n        },\n        [onTouchEnd, hideTooltip, setCurrent]\n    )\n\n    return (\n        <BaseMesh\n            nodes={points}\n            width={width}\n            height={height}\n            onMouseEnter={handleMouseEnter}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n            onClick={handleClick}\n            onTouchStart={handleTouchStart}\n            onTouchMove={handleTouchMove}\n            onTouchEnd={handleTouchEnd}\n            enableTouchCrosshair={enableTouchCrosshair}\n            debug={debug}\n        />\n    )\n}\n\nMesh.propTypes = {\n    points: PropTypes.arrayOf(PropTypes.object).isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    margin: PropTypes.object.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n    onTouchStart: PropTypes.func,\n    onTouchMove: PropTypes.func,\n    onTouchEnd: PropTypes.func,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    debug: PropTypes.bool.isRequired,\n}\n\nexport default memo(Mesh)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { Fragment, useState } from 'react'\nimport {\n    bindDefs,\n    withContainer,\n    useDimensions,\n    useTheme,\n    SvgWrapper,\n    CartesianMarkers,\n} from '@nivo/core'\nimport { useInheritedColor } from '@nivo/colors'\nimport { Axes, Grid } from '@nivo/axes'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { Crosshair } from '@nivo/tooltip'\nimport { useLine } from './hooks'\nimport { LinePropTypes } from './props'\nimport Areas from './Areas'\nimport Lines from './Lines'\nimport Slices from './Slices'\nimport Points from './Points'\nimport Mesh from './Mesh'\nimport PointTooltip from './PointTooltip'\nimport SliceTooltip from './SliceTooltip'\n\nconst Line = props => {\n    const {\n        data,\n        xScale: xScaleSpec = { type: 'point' },\n        xFormat,\n        yScale: yScaleSpec = {\n            type: 'linear',\n            min: 0,\n            max: 'auto',\n        },\n        yFormat,\n        layers = [\n            'grid',\n            'markers',\n            'axes',\n            'areas',\n            'crosshair',\n            'lines',\n            'points',\n            'slices',\n            'mesh',\n            'legends',\n        ],\n        curve = 'linear',\n        areaBaselineValue = 0,\n\n        colors = { scheme: 'nivo' },\n\n        margin: partialMargin,\n        width,\n        height,\n\n        axisTop,\n        axisRight,\n        axisBottom = {},\n        axisLeft = {},\n        enableGridX = true,\n        enableGridY = true,\n        gridXValues,\n        gridYValues,\n\n        lineWidth = 2,\n        enableArea = false,\n        areaOpacity = 0.2,\n        areaBlendMode = 'normal',\n\n        enablePoints = true,\n        pointSymbol,\n        pointSize = 6,\n        pointColor = { from: 'color' },\n        pointBorderWidth = 0,\n        pointBorderColor = { theme: 'background' },\n        enablePointLabel = false,\n        pointLabel = 'yFormatted',\n        pointLabelYOffset,\n\n        defs = [],\n        fill = [],\n\n        markers,\n\n        legends = [],\n\n        isInteractive = true,\n\n        useMesh = false,\n        debugMesh = false,\n\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        onTouchStart,\n        onTouchMove,\n        onTouchEnd,\n\n        tooltip = PointTooltip,\n\n        enableSlices = false,\n        debugSlices = false,\n        sliceTooltip = SliceTooltip,\n\n        enableCrosshair = true,\n        crosshairType = 'bottom-left',\n        enableTouchCrosshair = false,\n\n        role = 'img',\n    } = props\n\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        legendData,\n        toggleSerie,\n        lineGenerator,\n        areaGenerator,\n        series,\n        xScale,\n        yScale,\n        slices,\n        points,\n    } = useLine({\n        data,\n        xScale: xScaleSpec,\n        xFormat,\n        yScale: yScaleSpec,\n        yFormat,\n        width: innerWidth,\n        height: innerHeight,\n        colors,\n        curve,\n        areaBaselineValue,\n        pointColor,\n        pointBorderColor,\n        enableSlices,\n    })\n\n    const theme = useTheme()\n    const getPointColor = useInheritedColor(pointColor, theme)\n    const getPointBorderColor = useInheritedColor(pointBorderColor, theme)\n\n    const [currentPoint, setCurrentPoint] = useState(null)\n    const [currentSlice, setCurrentSlice] = useState(null)\n\n    const layerById = {\n        grid: (\n            <Grid\n                key=\"grid\"\n                theme={theme}\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? xScale : null}\n                yScale={enableGridY ? yScale : null}\n                xValues={gridXValues}\n                yValues={gridYValues}\n            />\n        ),\n        markers: (\n            <CartesianMarkers\n                key=\"markers\"\n                markers={markers}\n                width={innerWidth}\n                height={innerHeight}\n                xScale={xScale}\n                yScale={yScale}\n                theme={theme}\n            />\n        ),\n        axes: (\n            <Axes\n                key=\"axes\"\n                xScale={xScale}\n                yScale={yScale}\n                width={innerWidth}\n                height={innerHeight}\n                theme={theme}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n        ),\n        areas: null,\n        lines: (\n            <Lines key=\"lines\" lines={series} lineGenerator={lineGenerator} lineWidth={lineWidth} />\n        ),\n        slices: null,\n        points: null,\n        crosshair: null,\n        mesh: null,\n        legends: legends.map((legend, i) => (\n            <BoxLegendSvg\n                key={`legend.${i}`}\n                {...legend}\n                containerWidth={innerWidth}\n                containerHeight={innerHeight}\n                data={legend.data || legendData}\n                theme={theme}\n                toggleSerie={legend.toggleSerie ? toggleSerie : undefined}\n            />\n        )),\n    }\n\n    const boundDefs = bindDefs(defs, series, fill)\n\n    if (enableArea) {\n        layerById.areas = (\n            <Areas\n                key=\"areas\"\n                areaGenerator={areaGenerator}\n                areaOpacity={areaOpacity}\n                areaBlendMode={areaBlendMode}\n                lines={series}\n            />\n        )\n    }\n\n    if (isInteractive && enableSlices !== false) {\n        layerById.slices = (\n            <Slices\n                key=\"slices\"\n                slices={slices}\n                axis={enableSlices}\n                debug={debugSlices}\n                height={innerHeight}\n                tooltip={sliceTooltip}\n                current={currentSlice}\n                setCurrent={setCurrentSlice}\n                onMouseEnter={onMouseEnter}\n                onMouseMove={onMouseMove}\n                onMouseLeave={onMouseLeave}\n                onClick={onClick}\n                onTouchStart={onTouchStart}\n                onTouchMove={onTouchMove}\n                onTouchEnd={onTouchEnd}\n            />\n        )\n    }\n\n    if (enablePoints) {\n        layerById.points = (\n            <Points\n                key=\"points\"\n                points={points}\n                symbol={pointSymbol}\n                size={pointSize}\n                color={getPointColor}\n                borderWidth={pointBorderWidth}\n                borderColor={getPointBorderColor}\n                enableLabel={enablePointLabel}\n                label={pointLabel}\n                labelYOffset={pointLabelYOffset}\n            />\n        )\n    }\n\n    if (isInteractive && enableCrosshair) {\n        if (currentPoint !== null) {\n            layerById.crosshair = (\n                <Crosshair\n                    key=\"crosshair\"\n                    width={innerWidth}\n                    height={innerHeight}\n                    x={currentPoint.x}\n                    y={currentPoint.y}\n                    type={crosshairType}\n                />\n            )\n        }\n        if (currentSlice !== null) {\n            layerById.crosshair = (\n                <Crosshair\n                    key=\"crosshair\"\n                    width={innerWidth}\n                    height={innerHeight}\n                    x={currentSlice.x}\n                    y={currentSlice.y}\n                    type={enableSlices}\n                />\n            )\n        }\n    }\n\n    if (isInteractive && useMesh && enableSlices === false) {\n        layerById.mesh = (\n            <Mesh\n                key=\"mesh\"\n                points={points}\n                width={innerWidth}\n                height={innerHeight}\n                margin={margin}\n                current={currentPoint}\n                setCurrent={setCurrentPoint}\n                onMouseEnter={onMouseEnter}\n                onMouseMove={onMouseMove}\n                onMouseLeave={onMouseLeave}\n                onClick={onClick}\n                onTouchStart={onTouchStart}\n                onTouchMove={onTouchMove}\n                onTouchEnd={onTouchEnd}\n                tooltip={tooltip}\n                enableTouchCrosshair={enableTouchCrosshair}\n                debug={debugMesh}\n            />\n        )\n    }\n\n    return (\n        <SvgWrapper\n            defs={boundDefs}\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            role={role}\n        >\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return (\n                        <Fragment key={i}>\n                            {layer({\n                                ...props,\n                                innerWidth,\n                                innerHeight,\n                                series,\n                                slices,\n                                points,\n                                xScale,\n                                yScale,\n                                lineGenerator,\n                                areaGenerator,\n                                currentPoint,\n                                setCurrentPoint,\n                                currentSlice,\n                                setCurrentSlice,\n                            })}\n                        </Fragment>\n                    )\n                }\n\n                return layerById[layer]\n            })}\n        </SvgWrapper>\n    )\n}\n\nLine.propTypes = LinePropTypes\n\nexport default withContainer(Line)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { createElement, useRef, useEffect, useState, useCallback, forwardRef } from 'react'\nimport {\n    withContainer,\n    useDimensions,\n    useTheme,\n    getRelativeCursor,\n    isCursorInRect,\n} from '@nivo/core'\nimport { renderAxesToCanvas, renderGridLinesToCanvas } from '@nivo/axes'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { useTooltip } from '@nivo/tooltip'\nimport { useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi'\nimport { LineCanvasPropTypes } from './props'\nimport { useLine } from './hooks'\nimport PointTooltip from './PointTooltip'\n\nconst LineCanvas = props => {\n    const canvasEl = useRef(null)\n    const {\n        width,\n        height,\n        margin: partialMargin,\n        pixelRatio = typeof window !== 'undefined' ? window.devicePixelRatio || 1 : 1,\n\n        data,\n        xScale: xScaleSpec = { type: 'point' },\n        xFormat,\n        yScale: yScaleSpec = {\n            type: 'linear',\n            min: 0,\n            max: 'auto',\n        },\n        yFormat,\n        curve = 'linear',\n\n        layers = [\n            'grid',\n            'markers',\n            'axes',\n            'areas',\n            'crosshair',\n            'lines',\n            'points',\n            'slices',\n            'mesh',\n            'legends',\n        ],\n\n        colors = { scheme: 'nivo' },\n        lineWidth = 2,\n\n        enableArea = false,\n        areaBaselineValue = 0,\n        areaOpacity = 0.2,\n\n        enablePoints = true,\n        pointSize = 6,\n        pointColor = { from: 'color' },\n        pointBorderWidth = 0,\n        pointBorderColor = { theme: 'background' },\n\n        enableGridX = true,\n        gridXValues,\n        enableGridY = true,\n        gridYValues,\n        axisTop,\n        axisRight,\n        axisBottom = {},\n        axisLeft = {},\n\n        legends = [],\n\n        isInteractive = true,\n        debugMesh = false,\n        //onMouseEnter,\n        //onMouseMove,\n        onMouseLeave,\n        onClick,\n        tooltip = PointTooltip,\n        canvasRef,\n    } = props\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n    const theme = useTheme()\n    const [currentPoint, setCurrentPoint] = useState(null)\n\n    const { lineGenerator, areaGenerator, series, xScale, yScale, points } = useLine({\n        data,\n        xScale: xScaleSpec,\n        xFormat,\n        yScale: yScaleSpec,\n        yFormat,\n        width: innerWidth,\n        height: innerHeight,\n        colors,\n        curve,\n        areaBaselineValue,\n        pointColor,\n        pointBorderColor,\n    })\n\n    const { delaunay, voronoi } = useVoronoiMesh({\n        points,\n        width: innerWidth,\n        height: innerHeight,\n        debug: debugMesh,\n    })\n\n    useEffect(() => {\n        if (canvasRef) {\n            canvasRef.current = canvasEl.current\n        }\n\n        canvasEl.current.width = outerWidth * pixelRatio\n        canvasEl.current.height = outerHeight * pixelRatio\n\n        const ctx = canvasEl.current.getContext('2d')\n\n        ctx.scale(pixelRatio, pixelRatio)\n\n        ctx.fillStyle = theme.background\n        ctx.fillRect(0, 0, outerWidth, outerHeight)\n        ctx.translate(margin.left, margin.top)\n\n        layers.forEach(layer => {\n            if (typeof layer === 'function') {\n                layer({\n                    ctx,\n                    innerWidth,\n                    innerHeight,\n                    series,\n                    points,\n                    xScale,\n                    yScale,\n                    lineWidth,\n                    lineGenerator,\n                    areaGenerator,\n                    currentPoint,\n                    setCurrentPoint,\n                })\n            }\n\n            if (layer === 'grid' && theme.grid.line.strokeWidth > 0) {\n                ctx.lineWidth = theme.grid.line.strokeWidth\n                ctx.strokeStyle = theme.grid.line.stroke\n\n                enableGridX &&\n                    renderGridLinesToCanvas(ctx, {\n                        width: innerWidth,\n                        height: innerHeight,\n                        scale: xScale,\n                        axis: 'x',\n                        values: gridXValues,\n                    })\n\n                enableGridY &&\n                    renderGridLinesToCanvas(ctx, {\n                        width: innerWidth,\n                        height: innerHeight,\n                        scale: yScale,\n                        axis: 'y',\n                        values: gridYValues,\n                    })\n            }\n\n            if (layer === 'axes') {\n                renderAxesToCanvas(ctx, {\n                    xScale,\n                    yScale,\n                    width: innerWidth,\n                    height: innerHeight,\n                    top: axisTop,\n                    right: axisRight,\n                    bottom: axisBottom,\n                    left: axisLeft,\n                    theme,\n                })\n            }\n\n            if (layer === 'areas' && enableArea === true) {\n                ctx.save()\n                ctx.globalAlpha = areaOpacity\n\n                areaGenerator.context(ctx)\n                series.forEach(serie => {\n                    ctx.fillStyle = serie.color\n                    ctx.beginPath()\n                    areaGenerator(serie.data.map(d => d.position))\n                    ctx.fill()\n                })\n\n                ctx.restore()\n            }\n\n            if (layer === 'lines') {\n                lineGenerator.context(ctx)\n                series.forEach(serie => {\n                    ctx.strokeStyle = serie.color\n                    ctx.lineWidth = lineWidth\n                    ctx.beginPath()\n                    lineGenerator(serie.data.map(d => d.position))\n                    ctx.stroke()\n                })\n            }\n\n            if (layer === 'points' && enablePoints === true && pointSize > 0) {\n                points.forEach(point => {\n                    ctx.fillStyle = point.color\n                    ctx.beginPath()\n                    ctx.arc(point.x, point.y, pointSize / 2, 0, 2 * Math.PI)\n                    ctx.fill()\n\n                    if (pointBorderWidth > 0) {\n                        ctx.strokeStyle = point.borderColor\n                        ctx.lineWidth = pointBorderWidth\n                        ctx.stroke()\n                    }\n                })\n            }\n\n            if (layer === 'mesh' && debugMesh === true) {\n                renderVoronoiToCanvas(ctx, voronoi)\n                if (currentPoint) {\n                    renderVoronoiCellToCanvas(ctx, voronoi, currentPoint.index)\n                }\n            }\n\n            if (layer === 'legends') {\n                const legendData = series\n                    .map(serie => ({\n                        id: serie.id,\n                        label: serie.id,\n                        color: serie.color,\n                    }))\n                    .reverse()\n\n                legends.forEach(legend => {\n                    renderLegendToCanvas(ctx, {\n                        ...legend,\n                        data: legend.data || legendData,\n                        containerWidth: innerWidth,\n                        containerHeight: innerHeight,\n                        theme,\n                    })\n                })\n            }\n        })\n    }, [\n        canvasEl,\n        outerWidth,\n        outerHeight,\n        layers,\n        theme,\n        lineGenerator,\n        series,\n        xScale,\n        yScale,\n        enableGridX,\n        gridXValues,\n        enableGridY,\n        gridYValues,\n        axisTop,\n        axisRight,\n        axisBottom,\n        axisLeft,\n        legends,\n        points,\n        enablePoints,\n        pointSize,\n        currentPoint,\n    ])\n\n    const getPointFromMouseEvent = useCallback(\n        event => {\n            const [x, y] = getRelativeCursor(canvasEl.current, event)\n            if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null\n\n            const pointIndex = delaunay.find(x - margin.left, y - margin.top)\n            return points[pointIndex]\n        },\n        [canvasEl, margin, innerWidth, innerHeight, delaunay]\n    )\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseHover = useCallback(\n        event => {\n            const point = getPointFromMouseEvent(event)\n            setCurrentPoint(point)\n\n            if (point) {\n                showTooltipFromEvent(createElement(tooltip, { point }), event)\n            } else {\n                hideTooltip()\n            }\n        },\n        [getPointFromMouseEvent, setCurrentPoint, showTooltipFromEvent, hideTooltip, tooltip]\n    )\n\n    const handleMouseLeave = useCallback(\n        event => {\n            hideTooltip()\n            setCurrentPoint(null)\n            currentPoint && onMouseLeave && onMouseLeave(currentPoint, event)\n        },\n        [hideTooltip, setCurrentPoint, onMouseLeave]\n    )\n\n    const handleClick = useCallback(\n        event => {\n            if (onClick) {\n                const point = getPointFromMouseEvent(event)\n                point && onClick(point, event)\n            }\n        },\n        [getPointFromMouseEvent, onClick]\n    )\n\n    return (\n        <canvas\n            ref={canvasEl}\n            width={outerWidth * pixelRatio}\n            height={outerHeight * pixelRatio}\n            style={{\n                width: outerWidth,\n                height: outerHeight,\n                cursor: isInteractive ? 'auto' : 'normal',\n            }}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n\nLineCanvas.propTypes = LineCanvasPropTypes\n\nconst LineCanvasWithContainer = withContainer(LineCanvas)\n\nexport default forwardRef((props, ref) => <LineCanvasWithContainer {...props} canvasRef={ref} />)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { forwardRef } from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport LineCanvas from './LineCanvas'\n\nconst ResponsiveLineCanvas = (props, ref) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <LineCanvas width={width} height={height} {...props} ref={ref} />}\n    </ResponsiveWrapper>\n)\n\nexport default forwardRef(ResponsiveLineCanvas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Line from './Line'\n\nconst ResponsiveLine = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Line width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveLine\n"],"names":["LinePointTooltip","_ref","point","_jsx","BasicTooltip","id","_jsxs","jsxs","children","jsx","data","xFormatted","yFormatted","enableChip","color","serieColor","propTypes","PropTypes","object","isRequired","memo","SliceTooltip","slice","axis","theme","useTheme","otherAxis","TableTooltip","rows","points","map","Chip","style","tooltip","chip","serieId","tableCellValue","oneOf","commonPropTypes","arrayOf","shape","oneOfType","string","number","x","instanceOf","Date","y","xScale","xFormat","func","yScale","yFormat","layers","curve","lineCurvePropType","axisTop","axisPropType","axisRight","axisBottom","axisLeft","enableGridX","bool","enableGridY","gridXValues","gridYValues","enablePoints","pointSymbol","pointSize","pointColor","any","pointBorderWidth","pointBorderColor","enablePointLabel","pointLabel","markers","value","colors","ordinalColorsPropType","enableArea","areaOpacity","areaBlendMode","blendModePropType","areaBaselineValue","lineWidth","legends","LegendPropShape","isInteractive","debugMesh","enableSlices","debugSlices","sliceTooltip","enableCrosshair","crosshairType","LinePropTypes","_extends","role","useMesh","enableTouchCrosshair","motionPropTypes","defsPropTypes","LineCanvasPropTypes","pixelRatio","commonDefaultProps","type","min","max","from","scheme","PointTooltip","LineDefaultProps","animate","motionConfig","defs","fill","LineCanvasDefaultProps","window","devicePixelRatio","useLineGenerator","useMemo","line","defined","d","curveFromProp","useAreaGenerator","_ref2","area","y1","y0","useSlices","_ref4","componentId","width","height","Map","forEach","has","get","push","set","Array","entries","sort","a","b","_ref5","i","slices","x0","sliceWidth","slicePoints","prevSlice","nextSlice","reverse","_ref6","sliceHeight","LINE_UNIQUE_ID_PREFIX","useLine","_ref7","_ref7$xScale","xScaleSpec","_ref7$yScale","yScaleSpec","_ref7$colors","_ref7$curve","_ref7$areaBaselineVal","_ref7$pointColor","_ref7$pointBorderColo","_ref7$enableSlices","enableSlicesTooltip","useState","uniqueId","formatX","useValueFormatter","formatY","getColor","useOrdinalColorScale","getPointColor","useInheritedColor","getPointBorderColor","_useState2","hiddenIds","setHiddenIds","_useMemo","computeXYScalesForSeries","filter","item","indexOf","rawSeries","series","_useMemo2","dataWithColor","label","datum","find","serie","Boolean","legendData","hidden","toggleSerie","useCallback","state","concat","_ref3","reduce","acc","position","index","length","borderColor","usePoints","lineGenerator","areaGenerator","AreaPath","path","_useMotionConfig","useMotionConfig","springConfig","config","animatedPath","useAnimatedPath","animatedProps","useSpring","immediate","animated","fillOpacity","strokeWidth","mixBlendMode","Areas","computedLines","lines","LinesItem","thickness","stroke","Lines","SlicesItem","debug","isCurrent","setCurrent","onMouseEnter","onMouseMove","onMouseLeave","onClick","onTouchStart","onTouchMove","onTouchEnd","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","event","createElement","handleMouseMove","handleMouseLeave","handleClick","handeOnTouchStart","handeOnTouchMove","touchPoint","touches","touchingElement","document","elementFromPoint","clientX","clientY","touchingSliceId","getAttribute","handleOnTouchEnd","strokeOpacity","Slices","current","Points","symbol","size","borderWidth","enableLabel","labelYOffset","getLabel","getLabelGenerator","mappedPoints","DotsItem","Mesh","margin","showTooltipAt","left","top","handleTouchStart","handleTouchMove","handleTouchEnd","BaseMesh","nodes","Line","props","_props$xScale","_props$yScale","_props$layers","_props$curve","_props$areaBaselineVa","_props$colors","partialMargin","_props$axisBottom","_props$axisLeft","_props$enableGridX","_props$enableGridY","_props$lineWidth","_props$enableArea","_props$areaOpacity","_props$areaBlendMode","_props$enablePoints","_props$pointSize","_props$pointColor","_props$pointBorderWid","_props$pointBorderCol","_props$enablePointLab","_props$pointLabel","pointLabelYOffset","_props$defs","_props$fill","_props$legends","_props$isInteractive","_props$useMesh","_props$debugMesh","_props$tooltip","_props$enableSlices","_props$debugSlices","_props$sliceTooltip","_props$enableCrosshai","_props$crosshairType","_props$enableTouchCro","_props$role","_useDimensions","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useLine","_useState","currentPoint","setCurrentPoint","currentSlice","setCurrentSlice","layerById","grid","Grid","xValues","yValues","CartesianMarkers","axes","Axes","right","bottom","areas","crosshair","mesh","legend","BoxLegendSvg","containerWidth","containerHeight","undefined","boundDefs","bindDefs","Crosshair","SvgWrapper","layer","Fragment","withContainer","LineCanvas","canvasEl","useRef","_props$pixelRatio","canvasRef","_useVoronoiMesh","useVoronoiMesh","delaunay","voronoi","useEffect","ctx","getContext","scale","fillStyle","background","fillRect","translate","strokeStyle","renderGridLinesToCanvas","values","renderAxesToCanvas","save","globalAlpha","context","beginPath","restore","arc","Math","PI","renderVoronoiToCanvas","renderVoronoiCellToCanvas","renderLegendToCanvas","getPointFromMouseEvent","_getRelativeCursor","getRelativeCursor","isCursorInRect","pointIndex","handleMouseHover","ref","cursor","LineCanvasWithContainer","LineCanvas$1","forwardRef","ResponsiveWrapper"],"mappings":"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"}